<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Jobs Arena — Landing</title>
<style>
  :root{ --bg:#f6f8fb; --card:#ffffff; --accent:#0ea5a4; --muted:#6b7280; }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Arial;
    background:linear-gradient(180deg,#eef2f7 0%,var(--bg) 100%);
    color:#0f172a}

  /* top bar */
  .topbar{position:fixed;left:0;right:0;top:0;height:64px;display:flex;
    align-items:center;justify-content:space-between;padding:0 16px;z-index:40;background:transparent}
  .brand{font-weight:700;color:var(--accent);margin-left:8px}
  .btn{padding:12px 18px;border-radius:10px;background:var(--accent);color:white;text-decoration:none;font-weight:700}
  .btn.secondary{background:white;border:1px solid #e6eef2;color:#0f172a}

  /* hero */
  .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;
    padding:120px 6% 60px;align-items:center}
  .hero-left h1{font-size:44px;line-height:1.02;margin-bottom:16px}
  .hero-left p{color:var(--muted);margin-bottom:20px;max-width:560px}
  .cta-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}

  /* hero image animation + slider */
  .hero-right img{width:100%;border-radius:16px;box-shadow:0 18px 40px rgba(2,6,23,0.08);
    animation:float 4s ease-in-out infinite;transition:opacity 1s ease-in-out}
  @keyframes float {
    0%,100%{transform:translateY(0)}
    50%{transform:translateY(-12px)}
  }

  /* job preview card */
  .hero-card{background:linear-gradient(180deg,#ffffff 0%,#f8feff 100%);
    border-radius:16px;padding:18px;box-shadow:0 18px 40px rgba(2,6,23,0.08);
    display:flex;flex-direction:column;gap:14px;margin-top:22px}
  .hero-card .title{font-weight:700}
  .hero-card .meta{color:var(--muted);font-size:13px}

  /* features grid */
  .features{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;padding:28px 6%}
  .feature{background:var(--card);padding:16px;border-radius:12px;
    box-shadow:0 8px 24px rgba(2,6,23,0.04)}
  .feature h4{margin-bottom:8px}

  /* categories grid */
  .categories{padding:40px 6%;background:#fff}
  .categories h2{margin-bottom:20px}
  .cat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px}
  .cat-card{background:#f9fafa;padding:16px;border-radius:12px;box-shadow:0 6px 20px rgba(2,6,23,0.06)}
  .cat-card h3{margin-top:0;color:var(--accent)}

  /* popup modal */
  .popup-overlay{position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:9999}
  .popup-box{background:#fff;padding:20px;border-radius:12px;max-width:400px;text-align:center;
    box-shadow:0 4px 15px rgba(0,0,0,0.2)}
  .popup-box h2{margin-bottom:10px}
  .popup-box p{margin-bottom:20px}
  .popup-box button{padding:10px 20px;background:#2563eb;color:white;border:none;
    border-radius:8px;cursor:pointer}

  footer{padding:28px 6%;text-align:center;color:var(--muted);font-size:14px}

  @media(max-width:980px){
    .hero{grid-template-columns:1fr; padding-top:100px}
    .features{grid-template-columns:repeat(2,1fr)}
  }
  @media(max-width:600px){
    .features{grid-template-columns:1fr}
  }
</style>
</head>
<body>

<!-- top bar -->
<div class="topbar">
  <div style="display:flex;align-items:center">
    <span class="brand">Jobs Arena</span>
  </div>
  <div style="display:flex;gap:8px;align-items:center">
    <a class="btn secondary" href="login.html">Login</a>
    <a class="btn" href="register.html">Register</a>
    <a class="btn secondary" href="admin-login.html">Admin Login</a>
  </div>
</div>

<!-- hero -->
<section class="hero">
  <div class="hero-left">
    <h1>Find work — from Housekeeping to Engineering, Medical, IT and Online roles</h1>
    <p>Jobs for every field. Browse categories, join as a member for exclusive offers, and apply directly. Employers and admins can post jobs, add members, and run promotions.</p>
    <div class="cta-row">
      <a class="btn" href="#" onclick="goBrowseJobs()">Browse Jobs</a>
      <a class="btn secondary" href="register.html">Get Started</a>
      <a class="btn" href="#" onclick="goAdmin()">Admin Dashboard</a>
    </div>
    <div style="margin-top:20px;color:var(--muted)">
      Featured categories: <strong>Housekeeping</strong>, <strong>Mechanics</strong>, <strong>Medical</strong>, <strong>Engineering</strong>, <strong>IT</strong>, <strong>Online Jobs</strong>
    </div>
    <!-- featured job samples -->
    <aside class="hero-card">
      <div class="title">Senior Nurse — Night Shift</div>
      <div class="meta">Kenya Medical • Nairobi — <strong>Medical</strong></div>
      <div class="title">Mechanical Technician</div>
      <div class="meta">AutoCare • Mombasa — <strong>Mechanics</strong></div>
      <div class="title">Housekeeping Supervisor</div>
      <div class="meta">ComfortStay Hotels — <strong>Housekeeping</strong></div>
    </aside>
  </div>
  <div class="hero-right">
    <!-- rotating advertisement images -->
    <img id="adImage" src="https://cdn.dribbble.com/users/118246/screenshots/12345678/media/advert.gif" alt="Jobs Arena Ad">
  </div>
</section>

<!-- features -->
<section class="features">
  <div class="feature">
    <h4>Wide Range of Jobs</h4>
    <div class="muted">From entry-level to specialized professionals — all categories covered.</div>
  </div>
  <div class="feature">
    <h4>Member Discounts</h4>
    <div class="muted">Exclusive offers for members — admin-controlled packages & promos.</div>
  </div>
  <div class="feature">
    <h4>Trusted Team</h4>
    <div class="muted">See our verified members and team on your Dashboard.</div>
  </div>
</section>

<!-- categories -->
<section class="categories">
  <h2>Job Categories</h2>
  <div class="cat-grid">
    <div class="cat-card">
      <h3>IT Jobs</h3>
      <p>Software Developer</p>
      <p>Network Administrator</p>
      <p>IT Support Specialist</p>
      <p>Data Analyst</p>
    </div>
    <div class="cat-card">
      <h3>Online Jobs</h3>
      <p>Content Writer</p>
      <p>Online Marketing</p>
      <p>Virtual Assistant</p>
      <p>Freelance Designer</p>
    </div>
    <div class="cat-card">
      <h3>Other Fields</h3>
      <p>Engineering Roles</p>
      <p>Medical Professionals</p>
      <p>Mechanics</p>
      <p>Housekeeping</p>
    </div>
  </div>
</section>

<footer>
  © <span id="year"></span> Jobs Arena — Connecting people to work
</footer>

<script>
  window.API_BASE = "http://localhost:5000";

  // ✅ popup announcements
  async function loadPopups() {
    try {
      const res = await fetch(`${window.API_BASE}/api/popups`);
      const popups = await res.json();
      const enabled = popups.filter(p => p.enabled);
      if (enabled.length > 0) cyclePopups(enabled);
    } catch (err) { console.error("Error fetching popups:", err); }
  }
  function cyclePopups(popups) {
    let index = 0;
    function showNext() {
      if (index >= popups.length) return;
      const p = popups[index];
      showPopup(p.text, () => { index++; showNext(); });
    }
    showNext();
  }
  function showPopup(message, onClose) {
    const overlay = document.createElement("div");
    overlay.className = "popup-overlay";
    const box = document.createElement("div");
    box.className = "popup-box";
    box.innerHTML = `
      <h2>Announcement</h2>
      <p>${message}</p>
      <button>Close</button>
    `;
    box.querySelector("button").onclick = () => {
      overlay.remove();
      if(onClose) onClose();
    };
    overlay.appendChild(box);
    document.body.appendChild(overlay);
  }
  loadPopups();

  // year
  document.getElementById('year').textContent = new Date().getFullYear();

  // ✅ session helpers
  function getSession() {
    return JSON.parse(localStorage.getItem("jb_session") || "null");
  }
  function goBrowseJobs() {
    const session = getSession();
    if (!session) {
      alert("Please login first to browse jobs");
      window.location = "login.html";
      return;
    }
    window.location = "jobs.html";
  }
  function goAdmin() {
    const session = getSession();
    if (!session || session.role !== "admin") {
      alert("Admins only — please login as admin");
      window.location = "admin-login.html";
      return;
    }
    window.location = "admin-dashboard.html";
  }

  // ✅ Advertisement slider
  const adImages = [
    "https://cdn.dribbble.com/users/118246/screenshots/12345678/media/advert.gif",
    "https://cdn.dribbble.com/users/234567/screenshots/87654321/media/banner1.gif",
    "https://cdn.dribbble.com/users/345678/screenshots/13579246/media/banner2.gif"
  ];
  let adIndex = 0;
  const adImageEl = document.getElementById("adImage");

  setInterval(() => {
    adIndex = (adIndex + 1) % adImages.length;
    adImageEl.style.opacity = 0;
    setTimeout(() => {
      adImageEl.src = adImages[adIndex];
      adImageEl.style.opacity = 1;
    }, 500);
  }, 5000);
</script>
</body>
</html>

